---
slug: /updating
description: Paper 每天都有新功能和修复，本指南解释了更新过程。
---

# 更新 Paper

更新 Paper 是运行每个服务器的重要部分。由于每天都有新功能和修复，我们建议每周至少更新一次，以确保您的服务器修补了最新的错误。安装更新非常简单，但知道如何正确操作很重要。

:::caution[不要在运行中的服务器中替换任何 JAR]

除非您完全知道自己在做什么和为什么这么做，否则在运行中的服务器中替换任何 JAR（无论是插件还是 Paper 本身）都不是一个好主意。

:::

## 第一步：备份

:::tip

如果您使用的是共享主机，您的主机可能会提供内置的备份方式。在继续之前，请查阅他们的文档。

:::

这是最重要的一步，但也是最常被跳过的一步。虽然更新 Paper 本身不太可能导致任何问题需要您从备份中恢复，但插件故障或其他意外情况可能会发生！更新是进行备份的好时机。拥有功能正常的备份对每个服务器，无论大小，都至关重要。主要需要备份的内容是：

- 世界文件夹
- 服务器配置文件
- 插件配置文件和插件 JAR 文件

您应该尽量拥有多个时间点的备份，并将它们保存在安全的地方。常见的方法是保持滚动备份，这样您总是有一定数量的备份从设定的时间段中保存。

## 第二步：更新插件

就像更新 Paper 一样，保持插件更新同样重要。您永远不知道插件作者可能正在进行的工作，包括错误修复或新功能。

Paper 服务器的一个鲜为人知的功能是 `update` 文件夹。以下是如何使用它。

1. 在 `plugins` 文件夹中创建一个名为 `update` 的文件夹。
2. 一个一个地下载您想要更新的插件，并将它们放入 `update` 文件夹中。
3. 重启您的服务器，不要在 `update` 文件夹之外移除或修改任何插件。

通过这样做，您可以在服务器关闭的情况下同时更新所有插件，或者在服务器运行时替换插件 JAR 文件。在更新 Paper 本身之前，您无需重启服务器。此功能允许您同时更新 Paper 和插件，而无需额外的停机时间。

## 第三步：更新 Paper

:::tip

如果您使用的是共享主机，您的主机可能会提供内置的更新方式。在继续之前，请查阅他们的文档。

:::

更新 Paper 本身非常简单。

1. 从 [我们的下载页面](https://papermc.io/downloads) 下载一个新的 JAR 文件。
2. 停止您的服务器。在服务器运行时替换 Paper JAR 文件是不推荐的，可能会引起问题。
3. 将下载的文件重命名为与 [启动命令](../getting-started/getting-started.mdx#running-the-server)中指定的名称相匹配。
4. 用新的重命名文件替换旧的 Paper JAR 文件。
5. 启动您的服务器。观察启动日志以确保一切顺利。如果有任何插件冲突或问题，您将在这里看到。

为了将更新引起的停机时间降至最低，一些服务器所有者会选择上传一个新文件而不是替换他们的服务器 JAR，并设置他们的启动脚本在下次重启时使用新文件。这两种更新策略都是有效的。

:::caution[自动更新]

虽然自动安装更新可能很方便（而 Paper 的 [下载 API](/misc/downloads-api) 让您可以轻松实现），但由于可能存在插件冲突或其他您可能不知道的问题，Paper 不推荐这样做。在更新期间始终在场，并在事后仔细监视服务器的日志。

如果您选择自动安装更新，请确保您有一个功能正常的备份策略！

:::
